# ğŸš› GreenStream Logistics: Oracle 23ai Performance & Vector RAG Case Study

![Oracle 23ai](https://img.shields.io/badge/Oracle-23ai-red) ![AI Agent](https://img.shields.io/badge/AI-Agent_Powered-blueviolet) ![RAG](https://img.shields.io/badge/Technique-Vector_RAG-green) ![Status](https://img.shields.io/badge/Status-Completed-success)

> **"From Full Table Scan to Vector RAG Intelligence"**
> A comprehensive case study demonstrating the use of Oracle 23ai, Vector Search, and AI Agent (GitHub Copilot / MCP) to solve critical performance issues in the logistics sector.

---

## ğŸ“Š Live Interactive Report

The full HTML report with interactive charts, query plan analysis (EXPLAIN PLAN), and RAG module demonstration is available here:

### [ğŸ‘‰ View Case Study Report (GitHub Pages)](https://krzysztof-i-cabaj.github.io/greenstream-logistics-case-study/docs/index.html)

---

## ğŸ¯ Business Context

**Company:** GreenStream Logistics
**Challenge:** During peak order simulation ("Black Friday"), the operational dashboard freezes. Critical queries about shipment status and customer history paralyze the database, causing application timeouts.

**Solution:** Implementation of an "AI DBA" â€“ an autonomous agent that:
1.  **Diagnoses** bottlenecks (Full Table Scans, Hash Joins).
2.  **Fixes** problems (B-Tree Indexes, Top-N Optimization).
3.  **Learns** (Saves solutions as vectors in Oracle 23ai database).
4.  **Supports** future decisions through RAG (Retrieval-Augmented Generation).

---

## ğŸš€ Key Results

Thanks to AI Agent intervention and Oracle 23ai usage, dramatic query cost reduction (Optimizer Cost) was achieved:

| Scenario | Problem | Cost (Before) | Cost (After) | Reduction |
| :--- | :--- | :--- | :--- | :--- |
| **1. Email Search** | `UPPER(email)` function scan | 13 | **2** | ğŸ“‰ **85%** |
| **2. Shipment Report** | Missing FK Indexes / Hash Join | 142 | **64** | ğŸ“‰ **55%** |
| **3. Latest Orders** | Sort Order By (Temp Space) | 4472 | **22** | ğŸ“‰ **99.5%** |

> *Detailed I/O metrics, execution times (Elapsed Time), and EXPLAIN PLAN comparisons are available in the HTML report.*

---

## ğŸ¤– AI Agent Prompts & Instructions

The unique value of this repository is the complete set of instructions (prompts) used to control the AI Agent. They show how to use the Model Context Protocol (MCP) to interact with the database.

You can find them in the `agent_instructions/` directory:
* [ğŸ‡µğŸ‡± **README_AI_AGENT_PL.md**](./agent_instructions/README_AI_AGENT_PL.md) - Instructions in Polish.
* [ğŸ‡¬ğŸ‡§ **README_AI_AGENT_EN.md**](./agent_instructions/README_AI_AGENT_EN.md) - Instructions in English.

---

## ğŸ’¡ Architecture & Technologies

The project uses a modern "AI-First Database" approach:

* **Oracle Database 23ai Free:** Database engine.
* **Vector Search:** Native `VECTOR` data type for storing problem and solution embeddings.
* **In-Database Embeddings:** Vector generation (model `DOC_MODEL`) directly in SQL, without external Python scripts.
* **RAG (Retrieval-Augmented Generation):** Similarity search (Cosine Similarity) to find historical solutions for new incidents.
* **GitHub Pages:** Hosting for dynamic results report.

---

## ğŸ“‚ Repository Structure

The project structure is designed with readability in mind and separation of logic from presentation:

```text
greenstream-logistics-case-study/
â”œâ”€â”€ agent_instructions/         # ğŸ¤– Prompts and instructions for AI Agent (PL/EN)
â”œâ”€â”€ docs/                       # ğŸŒ Sources for GitHub Pages (index.html file)
â”‚
â”œâ”€â”€ sql/                        # ğŸ’¾ SQL Scripts
â”‚   â”œâ”€â”€ 01_setup/               # Environment setup "with problems" (04_logistics_setup.sql)
â”‚   â”œâ”€â”€ 02_scenarios/           # "Bad" queries simulating failure (05_bad_performance_scenarios.sql)
â”‚   â”œâ”€â”€ 03_solutions/           # Fix scripts generated by AI (07_performance_fixes.sql)
â”‚   â”œâ”€â”€ 04_rag_engine/          # RAG procedures and vector management (06_rag_management.sql)
â”‚   â””â”€â”€ 05_analysis_metrics/    # Analytical scripts (50_*.sql, 51_*.sql)
â”‚
â”œâ”€â”€ INSTALL.md                  # âš™ï¸ Detailed installation instructions
â””â”€â”€ README.md                   # ğŸ“– This file
```

---

## ğŸ›  Prerequisites & Installation

To run this demo on your own environment, you need:

1. Oracle Database 23ai (Free or Enterprise version).
2. Configured `vec_admin` user with appropriate privileges.
3. Loaded ONNX model (`all-MiniLM-L12-v2` as `DOC_MODEL`).

**ğŸ”— Base configuration:** This project is a continuation of the [ora26ai-vector-rag-demo](https://github.com/krzysztof-i-cabaj/ora26ai-vector-rag-demo/) workshop. Make sure you have completed those steps (especially model loading).

---

## Quick Start

1. **Clone the repository:**

```bash
git clone https://github.com/krzysztof-i-cabaj/greenstream-logistics-case-study.git
cd greenstream-logistics-case-study
```

2.  **Data Setup:**
    Connect to the database as `vec_admin` (e.g., via SQLcl, SQL Developer, or VS Code) and run the initialization script:
    ```sql
    @sql/01_setup/04_logistics_setup.sql
    ```

3.  **Problem Simulation:**
    Run the load-generating script to see (and measure) high query costs:
    ```sql
    @sql/02_scenarios/05_bad_performance_scenarios.sql
    ```

4.  **Full instructions:**
    A detailed description of subsequent steps, including RAG configuration, applying fixes, and result verification, is available in:
    [ğŸ“– **INSTALL.md**](./INSTALL.md)

---

## ğŸ¤ Contributing & License

Project created for educational purposes, demonstrating Oracle 23ai and AI DB Development capabilities.
Licensed under MIT License.

**Author:** Krzysztof Cabaj & AI Agent
